/**
 *  frequency_distribution_evaluation
 *  Author: voducan
 *  Description: 
 * 		This model generates a synthetic population of household-people using the "frequency distribution" algorithm.
 * 		The generated population is evaluated against the reference population generated by setup.gaml model.
 */

model frequency_distribution_evaluation

global {
	
	bool generate_household_frequencies <- false;
	
	init {
		
		if (generate_household_frequencies) { // generate household frequencies of the reference population
		
			string base_path <- '../includes/frequency_distribution_evaluation/generated_frequency_distributions/';
		
			// scenario_1
			string scenario_1_properties <- base_path + 'scenario_1/frequency_distributions.properties';
			list<string> scenario_1_resulting_files <- frequency_distributions(scenario_1_properties);
			write 'Generated scenario 1\'s frequency distributions to \'includes/frequency_distribution_evaluation/generated_frequency_distributions/scenario_1\' folder.';
		
			// scenario_2
			string scenario_2_properties <- base_path + 'scenario_2/frequency_distributions.properties';
			list<string> scenario_2_resulting_files <- frequency_distributions(scenario_2_properties);
			write 'Generated scenario 2\'s frequency distributions to \'includes/frequency_distribution_evaluation/generated_frequency_distributions/scenario_2\' folder.';

			// scenario_3
			string scenario_3_properties <- base_path + 'scenario_3/frequency_distributions.properties';
			list<string> scenario_3_resulting_files <- frequency_distributions(scenario_3_properties);
			write 'Generated scenario 3\'s frequency distributions to \'includes/frequency_distribution_evaluation/generated_frequency_distributions/scenario_3\' folder.';


		} else { // generate household population
			 string base_path <- '../includes/frequency_distribution_evaluation/generated_populations/';
			 
			 // scenario_1
			 list generated_population_scenario_1 <- frequency_distribution_population(base_path + 'scenario_1/HouseholdPopulation_Generator.properties');
			 write 'Generated scenario 1\'s household population';

			 // scenario_2
			 list generated_population_scenario_2 <- frequency_distribution_population(base_path + 'scenario_2/HouseholdPopulation_Generator.properties');
			 write 'Generated scenario 2\'s household population';

			 // scenario_3
			 list generated_population_scenario_3 <- frequency_distribution_population(base_path + 'scenario_3/HouseholdPopulation_Generator.properties');
			 write 'Generated scenario 3\'s household population';
		}
	}
	
}

experiment household_frequencies_generator type: gui {
	
	parameter 'Generate household frequencies?' var: generate_household_frequencies <- true;
	
	output {
		
	}
}

experiment household_population_generator type: gui {
	
	output {
		
	}
}