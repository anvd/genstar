/**
 *  frequency_distribution_evaluation
 *  Author: voducan
 *  Description: 
 * 		This model generates a synthetic population of household-people using the "frequency distribution" algorithm.
 * 		The generated population is evaluated against the reference population generated by setup.gaml model.
 */

model frequency_distribution_evaluation

global {
	
	bool generate_household_frequencies <- false;
	
	init {
		
		if (generate_household_frequencies) { // generate household frequencies
			
			string frequency_base_folder <- '../includes/frequency_distribution_evaluation/';
			string setup_base_folder <- '../includes/setup/';
			
			string population_data <- setup_base_folder + 'household_population.csv';
			string attribute_data <- setup_base_folder + 'household_attributes.csv';
			
			string distribution_format <- frequency_base_folder + 'household_distribution_format.csv';
			string resulting_distribution <- frequency_base_folder + 'household_resulting_frequency_distribution.csv';
			
			write 'Household frequency distribution generation starts...';

			string distribution_result_file <- frequency_distribution(attribute_data, population_data, distribution_format, resulting_distribution);

			write 'Household frequency distribution generation finishes. Result is written to distribution_result_file';
			
		} else { // generate household population
			TODO
		}
	}
	
}

experiment household_frequencies_generator type: gui {
	
	parameter 'Generator household frequecnies?' var: generate_household_frequencies <- true;
	
	output {
		
	}
}

experiment household_population_generator type: gui {
	
	output {
		
	}
}